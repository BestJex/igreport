(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53689073"],{"0664":function(e,r,t){"use strict";var a=t("3a14"),l=t.n(a);l.a},"3a14":function(e,r,t){},fd38:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"container",staticStyle:{width:"1000px"}},[t("div",{staticClass:"form-box"},[t("el-form",{ref:"ruleSpecialForm",staticClass:"demo-ruleForm",staticStyle:{width:"1000px"},attrs:{model:e.ruleSpecialForm,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"任务描述",prop:"jobDesc"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入任务描述"},model:{value:e.ruleSpecialForm.jobDesc,callback:function(r){e.$set(e.ruleSpecialForm,"jobDesc",r)},expression:"ruleSpecialForm.jobDesc"}})],1),t("el-form-item",{attrs:{label:"任务执行器名",prop:"executorHandler"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入Handler名称"},model:{value:e.ruleSpecialForm.executorHandler,callback:function(r){e.$set(e.ruleSpecialForm,"executorHandler",r)},expression:"ruleSpecialForm.executorHandler"}}),t("el-button",{staticStyle:{"margin-left":"10px",color:"gray"},attrs:{type:"text"}},[e._v("例:demoJobHandler")])],1),t("el-form-item",{attrs:{label:"任务参数",prop:"executorParam"}},[t("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.ruleSpecialForm.executorParam,callback:function(r){e.$set(e.ruleSpecialForm,"executorParam",r)},expression:"ruleSpecialForm.executorParam"}})],1),t("el-form-item",{attrs:{label:"调度频率",prop:"jobCron"}},[t("el-input",{staticStyle:{width:"208px"},attrs:{placeholder:"请输入cron表达式"},model:{value:e.ruleSpecialForm.jobCron,callback:function(r){e.$set(e.ruleSpecialForm,"jobCron",r)},expression:"ruleSpecialForm.jobCron"}}),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"text"},on:{click:function(r){e.cronDialogVisible=!0}}},[e._v("查看示例")])],1),t("el-form-item",{attrs:{label:"告警邮箱",prop:"alarmEmail"}},[t("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"配置多个请用逗号分隔"},model:{value:e.ruleSpecialForm.alarmEmail,callback:function(r){e.$set(e.ruleSpecialForm,"alarmEmail",r)},expression:"ruleSpecialForm.alarmEmail"}}),t("el-button",{staticStyle:{"margin-left":"10px",color:"gray"},attrs:{type:"text"}},[e._v("例:1242214@qq.com,242124@qq.com")])],1),t("el-form-item",[t("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleSpecialForm")}}},[e._v("新增")])],1)],1)],1)]),t("el-dialog",{attrs:{title:"【cron表达式生成规则】",visible:e.cronDialogVisible,width:"300px",center:""},on:{"update:visible":function(r){e.cronDialogVisible=r}}},[t("h6",[e._v("每天上午8点执行一次：0 0 8 * * ?")]),t("h6",[e._v("每天上午8点45分执行一次：0 45 8 * * ?")]),t("h6",[e._v("每小时5分执行：0 5 * * * ?")]),t("h6",[e._v("每小时的10分和40分执行：0 10,40 * * * ?")]),t("h5",[e._v("更复杂的表达式请参考: http://cron.qqe2.com/")])])],1)},l=[],o=t("bc3a"),i=t.n(o),c={name:"baseform",data:function(){return{cronDialogVisible:!1,executorHandlerList:[],ruleSpecialForm:{author:localStorage.getItem("ms_username"),executorParam:"100",executorHandler:"demoJobHandler",jobCron:"",jobDesc:"",alarmEmail:""},rules:{jobDesc:[{required:!0,message:"请填写报表描述(中文)",trigger:"blur"},{min:4,max:30,message:"长度在4到30个字符",trigger:"blur"}],executorHandler:[{required:!0,message:"请输入handler名称",trigger:"blur"}],jobCron:[{required:!0,message:"请填写跑批时间(cron表达式)",trigger:"blur"}],executorParam:[{required:!0,message:"请填写报表SQL",trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;i.a.post("/api/jobinfo/add",r.ruleSpecialForm).then((function(e){200==e.data.code?(r.$message({message:"新增成功",type:"success"}),r.$router.push("/mytask")):r.$message({message:"新增异常:"+e.data.msg,type:"error"})})).catch((function(e){r.$message({message:e,type:"error"})}))}))}}},s=c,n=(t("0664"),t("2877")),u=Object(n["a"])(s,a,l,!1,null,null,null);r["default"]=u.exports}}]);